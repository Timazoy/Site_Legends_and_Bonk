<!DOCTYPE html>
<html lang="fr">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
  <link rel="stylesheet" href="styles.css" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,300..700;1,300..700&display=swap"
    rel="stylesheet" />
  <title>Legends & Bonk</title>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI"
    crossorigin="anonymous"></script>
</head>

<body>
  <nav class="navbar navbar-expand-xl">
    <div class="container-fluid">
      <a class="navbar-brand" href="./index.html"><img src="./image/logo_l_and_b.png" alt="Logo" width="70" height="70"
          class="d-inline-block align-text-middle" />
        Legends & Bonk</a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent"
        aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav me-auto mb-2 mb-lg-0">
          <li class="nav-item">
            <a class="nav-link active" aria-current="page" href="./index.html">Accueil</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="./regles.html">Règles</a>
          </li>
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
              Personnages
            </a>
            <ul class="dropdown-menu">
              <li><a class="dropdown-item" href="./personnages/regles_creation.html">Les règles de création</a></li>
              <li><a class="dropdown-item" href="./personnages/classes.html">Les classes</a></li>
              <li><a class="dropdown-item" href="./personnages/races.html">Les races</a></li>
              <li>
                <hr class="dropdown-divider">
              </li>
              <li><a class="dropdown-item" href="./personnages/aides_creation.html">Les aides de création</a></li>
            </ul>
          </li>
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
              Équipement
            </a>
            <ul class="dropdown-menu">
              <li><a class="dropdown-item" href="./equipement/armes.html">Les armes</a></li>
              <li><a class="dropdown-item" href="./equipement/armures.html">Les armures</a></li>
              <li><a class="dropdown-item" href="./equipement/potions.html">Les potions</a></li>
              <li>
                <hr class="dropdown-divider">
              </li>
              <li><a class="dropdown-item" href="./equipement/prix.html">Les feuilles de prix</a></li>
            </ul>
          </li>
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
              Magie
            </a>
            <ul class="dropdown-menu">
              <li><a class="dropdown-item" href="./magie/tartos.html">Les cartes de tarots</a></li>
              <li><a class="dropdown-item" href="./magie/livre_magie.html">Le grand livre de la magie</a></li>
              <li><a class="dropdown-item" href="./magie/grimoire_sanguinolent.html">Le grimoire sanguinolent</a></li>
            </ul>
          </li>
        </ul>
        <ul class="navbar-nav mb-2 mb-lg-0 d-flex flex-row justify-content-center">
          <li class="nav-item">
            <a href="./add_on.html" class="btn btn-outline-light me-2" role="button">Add-on</a>
          </li>
          <li class="nav-item">
            <a href="./logiciel.html" class="btn btn-outline-light me-2" role="button">Logiciel</a>
          </li>
          <li class="nav-item">
            <a href="./taverne_des_mj/tarvene_mj.html" class="btn btn-outline-light" role="button">La taverne des MJ</a>
          </li>
        </ul>
      </div>
    </div>
  </nav>

  <main>
    <div style="width: 80%; margin: 20px auto">
      <div class="row g-2">
        <div class="col-12 col-sm-6 col-md-4">
          <input type="radio" class="btn-check" name="btnradio" id="btnradio1" autocomplete="off" checked>
          <label class="btn btn-outline-dark w-100" for="btnradio1">Générateur objets aléatoire</label>
        </div>

        <div class="col-12 col-sm-6 col-md-4">
          <input type="radio" class="btn-check" name="btnradio" id="btnradio2" autocomplete="off">
          <label class="btn btn-outline-dark w-100" for="btnradio2">Calculateur dégâts</label>
        </div>

        <div class="col-12 col-sm-6 col-md-4">
          <input type="radio" class="btn-check" name="btnradio" id="btnradio3" autocomplete="off">
          <label class="btn btn-outline-dark w-100" for="btnradio3">Roue de la fortune</label>
        </div>

      </div>
    </div>

    <div style="width: 80%; margin: 0px auto; display: flex; justify-content: center;">
      <div style="width: 100%;">
        <!-- Card 1 -->
        <div id="card1" class="card" style="display: none;">
          <div class="card-body">
            <div class="container text-center">
              <div class="row align-items-start">
                <div class="col">
                  <div class="card">
                    <div class="card-header">
                      <h3>Les armes :</h3>

                      <!-- Vertically centered modal -->
                      <!-- Button trigger modal -->
                      <button type="button" class="btn btn-outline-secondary" data-bs-toggle="modal"
                        data-bs-target="#armeModal"
                        style="--bs-btn-padding-y: .25rem; --bs-btn-padding-x: .5rem; --bs-btn-font-size: .75rem;">
                        fonctionnement
                      </button>

                      <!-- Modal -->
                      <div class="modal fade" id="armeModal" tabindex="-1" aria-labelledby="armeModalLabel"
                        aria-hidden="true">
                        <div class="modal-dialog modal-dialog-centered">
                          <div class="modal-content">
                            <div class="modal-header">
                              <h1 class="modal-title fs-5" id="armeModalLabel">Le générateur d'armes</h1>
                              <button type="button" class="btn-close" data-bs-dismiss="modal"
                                aria-label="Close"></button>
                            </div>
                            <div class="modal-body">
                              Ici le texte du modal expliquant le fonctionnement du générateur d'armes.
                            </div>
                            <div class="modal-footer">
                              <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Fermer</button>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="card-body">
                      <select class="form-select" aria-label="GC">
                        <option selected>Grande catégorie</option>
                        <option value="acd">Arme courte distance</option>
                        <option value="amd">Arme moyenne distance</option>
                        <option value="ald">Arme longue distance</option>
                        <option value="bat">Bâton magique</option>
                        <option value="bou">Bouclier</option>
                        <option value="ani">Objets animal</option>
                      </select>

                      <select class="form-select" aria-label="PC" style="margin-top: 10px;">
                        <option selected>Petite catégorie</option>
                        <option value="cl">Classique</option>
                        <option value="pa">Petite arme</option>
                        <option value="la">Arme de lancer</option>
                        <option value="lo">Arme lourde</option>
                      </select>

                      <select class="form-select" aria-label="CS" style="margin-top: 10px;">
                        <option selected>Catégorie spéciale</option>
                        <option value="ta">Talismans</option>
                        <option value="ma">Arme magique</option>
                        <option value="mu">Arme musicale</option>
                        <option value="me">Arme medicale</option>
                      </select>

                      <div class="container text-center">
                        <div class="row align-items-start">
                          <div class="col">
                            <select class="form-select" aria-label="rarminarme" style="margin-top: 10px;">
                              <option selected>Rareté minimum</option>
                              <option value="c">C</option>
                              <option value="sc">SC</option>
                              <option value="r">R</option>
                              <option value="sr">SR</option>
                              <option value="e">E</option>
                              <option value="se">SE</option>
                            </select>
                          </div>
                          <div class="col">
                            <select class="form-select" aria-label="rarmaxarme" style="margin-top: 10px;">
                              <option selected>Rareté maximun</option>
                              <option value="c">C</option>
                              <option value="sc">SC</option>
                              <option value="r">R</option>
                              <option value="sr">SR</option>
                              <option value="e">E</option>
                              <option value="se">SE</option>
                            </select>
                          </div>
                        </div>
                      </div>

                      <button type="button" class="btn"
                        style="margin-top: 10px; background-color: #7a0808; color: white;" data-bs-toggle="modal"
                        data-bs-target="#armegenModal">Généré</button>
                    </div>

                    <!-- Modal -->
                    <div class="modal fade" id="armegenModal" tabindex="-1" aria-labelledby="armegenModalLabel"
                      aria-hidden="true">
                      <div class="modal-dialog modal-dialog-centered">
                        <div class="modal-content">
                          <div class="modal-header">
                            <h1 class="modal-title fs-5" id="armegenModalLabel">L'arme généré</h1>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                          </div>
                          <div class="modal-body">
                            <!-- Contenu de l'arme générée grâce à la fonction getArme-->
                          </div>
                          <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Fermer</button>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="col">
                  <div class="card">
                    <div class="card-header">
                      <h3>Les armures :</h3>

                      <!-- Vertically centered modal -->
                      <!-- Button trigger modal -->
                      <button type="button" class="btn btn-outline-secondary" data-bs-toggle="modal"
                        data-bs-target="#armureModal"
                        style="--bs-btn-padding-y: .25rem; --bs-btn-padding-x: .5rem; --bs-btn-font-size: .75rem;">
                        fonctionnement
                      </button>

                      <!-- Modal -->
                      <div class="modal fade" id="armureModal" tabindex="-1" aria-labelledby="armureModalLabel"
                        aria-hidden="true">
                        <div class="modal-dialog modal-dialog-centered">
                          <div class="modal-content">
                            <div class="modal-header">
                              <h1 class="modal-title fs-5" id="armureModalLabel">Le générateur d'armures</h1>
                              <button type="button" class="btn-close" data-bs-dismiss="modal"
                                aria-label="Close"></button>
                            </div>
                            <div class="modal-body">
                              Ici le texte du modal expliquant le fonctionnement du générateur d'armures.
                            </div>
                            <div class="modal-footer">
                              <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Fermer</button>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="card-body">
                      <select class="form-select" aria-label="CA">
                        <option selected>Catégorie</option>
                        <option value="ale">Armure légére</option>
                        <option value="amo">Armure moyenne</option>
                        <option value="alo">Armure lourde</option>
                      </select>

                      <div class="container text-center">
                        <div class="row align-items-start">
                          <div class="col">
                            <select class="form-select" aria-label="rarminarmure" style="margin-top: 10px;">
                              <option selected>Rareté minimum</option>
                              <option value="c">C</option>
                              <option value="sc">SC</option>
                              <option value="r">R</option>
                              <option value="sr">SR</option>
                              <option value="e">E</option>
                              <option value="se">SE</option>
                            </select>
                          </div>
                          <div class="col">
                            <select class="form-select" aria-label="rarmaxarmure" style="margin-top: 10px;">
                              <option selected>Rareté maximun</option>
                              <option value="c">C</option>
                              <option value="sc">SC</option>
                              <option value="r">R</option>
                              <option value="sr">SR</option>
                              <option value="e">E</option>
                              <option value="se">SE</option>
                            </select>
                          </div>
                        </div>
                      </div>

                      <button type="button" class="btn"
                        style="margin-top: 10px; background-color: #7a0808; color: white;" data-bs-toggle="modal"
                        data-bs-target="#armuregenModal">Généré</button>
                    </div>

                    <!-- Modal -->
                    <div class="modal fade" id="armuregenModal" tabindex="-1" aria-labelledby="armuregenModalLabel"
                      aria-hidden="true">
                      <div class="modal-dialog modal-dialog-centered">
                        <div class="modal-content">
                          <div class="modal-header">
                            <h1 class="modal-title fs-5" id="armuregenModalLabel">L'armure généré</h1>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                          </div>
                          <div class="modal-body">
                            <!-- Contenu de l'armure générée grâce à la fonction getArmure-->
                          </div>
                          <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Fermer</button>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>

              </div>
              <div class="col">
                <div class="card" style="margin-top: 10px;">
                  <div class="card-header">
                    <h3>Les objets :</h3>
                  </div>
                  <div class="card-body">

                    <div class="container text-center">
                      <div class="row align-items-start">

                        <div class="col">
                          <button type="button" class="btn"
                            style="margin-top: 10px; background-color: #7a0808; color: white;" data-bs-toggle="modal"
                            data-bs-target="#flechesgenModal">Généré flèches</button>

                          <!-- Modal -->
                          <div class="modal fade" id="flechesgenModal" tabindex="-1"
                            aria-labelledby="flechesgenModalLabel" aria-hidden="true">
                            <div class="modal-dialog modal-dialog-centered">
                              <div class="modal-content">
                                <div class="modal-header">
                                  <h1 class="modal-title fs-5" id="flechesgenModalLabel">Les flèches générées</h1>
                                  <button type="button" class="btn-close" data-bs-dismiss="modal"
                                    aria-label="Close"></button>
                                </div>
                                <div class="modal-body">
                                  <!-- Contenu des flèches générées grâce à la fonction getFlèches-->
                                </div>
                                <div class="modal-footer">
                                  <button type="button" class="btn btn-secondary"
                                    data-bs-dismiss="modal">Fermer</button>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>

                        <div class="col">
                          <button type="button" class="btn"
                            style="margin-top: 10px; background-color: #7a0808; color: white;" data-bs-toggle="modal"
                            data-bs-target="#potiongenModal">Généré potion</button>
                        </div>

                        <!-- Modal -->
                        <div class="modal fade" id="potiongenModal" tabindex="-1" aria-labelledby="potiongenModalLabel"
                          aria-hidden="true">
                          <div class="modal-dialog modal-dialog-centered">
                            <div class="modal-content">
                              <div class="modal-header">
                                <h1 class="modal-title fs-5" id="potiongenModalLabel">La potion généré</h1>
                                <button type="button" class="btn-close" data-bs-dismiss="modal"
                                  aria-label="Close"></button>
                              </div>
                              <div class="modal-body">
                                <!-- Contenu de la potion générées grâce à la fonction getFlèches-->
                              </div>
                              <div class="modal-footer">
                                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Fermer</button>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>




                </div>
              </div>
              <div class="col">
                <div class="card" style="margin-top: 10px;">
                  <div class="card-header">
                    <h3>Les enchantements :</h3>
                  </div>
                  <div class="card-body">




                    <select class="form-select" aria-label="rarminench" style="margin-top: 10px;">
                      <option selected>Rareté choisie</option>
                      <option value="c">C</option>
                      <option value="sc">SC</option>
                      <option value="r">R</option>
                      <option value="sr">SR</option>
                      <option value="e">E</option>
                      <option value="se">SE</option>
                    </select>



                    <button type="button" class="btn" style="margin-top: 10px; background-color: #7a0808; color: white;"
                      data-bs-toggle="modal" data-bs-target="#enchModal">Généré</button>

                    <div class="modal fade" id="enchModal" tabindex="-1" aria-labelledby="enchModalLabel"
                      aria-hidden="true">
                      <div class="modal-dialog modal-dialog-centered">
                        <div class="modal-content">
                          <div class="modal-header">
                            <h1 class="modal-title fs-5" id="enchModalLabel">L'enchantement généré</h1>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                          </div>
                          <div class="modal-body">
                            <!-- Contenu de l'arme générée grâce à la fonction getArme-->
                          </div>
                          <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Fermer</button>
                          </div>
                        </div>
                      </div>
                    </div>



                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Card 2 -->
    <div style="width: 80%; margin: 0px auto; display: flex; justify-content: center;">
      <div style="width: 100%;">
        <div id="card2" class="card" style="display: none;">
          <div class="card-body">
            <div class="col">
              <div class="card" style="margin-top: 10px;">
                <div class="card-header">
                  <h3>Les objets :</h3>
                </div>
                <div class="card-body">

                  <div class="container text-center">
                    <div class="row align-items-start">

                      <div class="col">
                        <button type="button" class="btn"
                          style="margin-top: 10px; background-color: #7a0808; color: white;" data-bs-toggle="modal"
                          data-bs-target="#flechesgenModal">Généré flèches</button>

                        <!-- Modal -->
                        <div class="modal fade" id="flechesgenModal" tabindex="-1"
                          aria-labelledby="flechesgenModalLabel" aria-hidden="true">
                          <div class="modal-dialog modal-dialog-centered">
                            <div class="modal-content">
                              <div class="modal-header">
                                <h1 class="modal-title fs-5" id="flechesgenModalLabel">Les flèches générées</h1>
                                <button type="button" class="btn-close" data-bs-dismiss="modal"
                                  aria-label="Close"></button>
                              </div>
                              <div class="modal-body">
                                <!-- Contenu des flèches générées grâce à la fonction getFlèches-->
                              </div>
                              <div class="modal-footer">
                                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Fermer</button>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>

                      <div class="col">
                        <button type="button" class="btn"
                          style="margin-top: 10px; background-color: #7a0808; color: white;" data-bs-toggle="modal"
                          data-bs-target="#potiongenModal">Généré potion</button>
                      </div>

                      <!-- Modal -->
                      <div class="modal fade" id="potiongenModal" tabindex="-1" aria-labelledby="potiongenModalLabel"
                        aria-hidden="true">
                        <div class="modal-dialog modal-dialog-centered">
                          <div class="modal-content">
                            <div class="modal-header">
                              <h1 class="modal-title fs-5" id="potiongenModalLabel">La potion généré</h1>
                              <button type="button" class="btn-close" data-bs-dismiss="modal"
                                aria-label="Close"></button>
                            </div>
                            <div class="modal-body">
                              <!-- Contenu de la potion générées grâce à la fonction getFlèches-->
                            </div>
                            <div class="modal-footer">
                              <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Fermer</button>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>




              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Card 3 -->
    <div id="card3" class="card" style="display: none;">
      <div class="card-body">
        <h5 class="card-title">Calculateur dégâts</h5>
        <p class="card-text">Contenu du calculateur de dégâts</p>
      </div>
    </div>


    </div>
    </div>

  </main>
  <div style="margin-top: 20px;"></div>
  <footer
    style="background-image: url(./image/dragon_footer.png);background-size:contain; background-repeat: no-repeat; background-position: center;">

    <div class="container text-center">
      <div class="row align-items-start">
        <div class="col">
          <a href="https://www.instagram.com/legends_bonk?utm_source=ig_web_button_share_sheet&igsh=ZDNlZDc0MzIxNw=="
            target="_blank" style="text-decoration: none; color: white;"><img
              src="./image/instagram-brands-solid-full.svg" alt="Instagram" width="50" height="50"
              class="d-inline-block align-text-middle" />legends_bonk</a>
        </div>

        <div class="col">
          <a href="./contact.html" target="_blank" style="text-decoration: none; color: white;"><img
              src="./image/envelope-regular-full.svg" alt="Enveloppe" width="50" height="50"
              class="d-inline-block align-text-middle" />Contact</a>
        </div>
      </div>
    </div>

    © 2026 Legends & Bonk

  </footer>

  <!-- Script pour logiciel-->
  <script src="./logiciel.js"></script>
  <script>
    // Gestion de l'affichage des cards au clic sur les boutons
    const radioButtons = document.querySelectorAll('input[name="btnradio"]');

    radioButtons.forEach((radio, index) => {
      radio.addEventListener('change', function () {
        if (this.checked) {
          const cardNumber = index + 1;
          // Cacher toutes les cards
          for (let i = 1; i <= 6; i++) {
            const card = document.getElementById('card' + i);
            if (card) card.style.display = 'none';
          }
          // Afficher la card sélectionnée
          const selectedCard = document.getElementById('card' + cardNumber);
          if (selectedCard) selectedCard.style.display = 'block';
        }
      });
    });

    // Afficher la première card par défaut
    const firstCard = document.getElementById('card1');
    if (firstCard) firstCard.style.display = 'block';

    document.querySelectorAll('.navbar .dropdown-toggle').forEach(function (toggle) {
      toggle.addEventListener('click', function () {
        var navbarCollapse = document.getElementById('navbarSupportedContent');
        if (window.getComputedStyle(navbarCollapse).display === 'none') {
          var bsCollapse = new bootstrap.Collapse(navbarCollapse, {
            show: true
          });
        }
      });
    });

    // === LIER LES FONCTIONS AUX INTERFACES ===

    // --- ARMES ---
    document.addEventListener('DOMContentLoaded', function () {
      const btnGenerateArme = document.querySelector('button[data-bs-target="#armegenModal"]');
      if (btnGenerateArme) {
        btnGenerateArme.addEventListener('click', function () {
          const GC = document.querySelector('select[aria-label="GC"]').value;
          const PC = document.querySelector('select[aria-label="PC"]').value;
          const CS = document.querySelector('select[aria-label="CS"]').value;
          const rarMin = document.querySelector('select[aria-label="rarminarme"]').value;
          const rarMax = document.querySelector('select[aria-label="rarmaxarme"]').value;

          // Vérifier que les rarétés sont sélectionnées
          if (rarMin === 'Rareté minimum' || rarMax === 'Rareté maximun') {
            alert('Veuillez sélectionner les rarétés minimum et maximum');
            return;
          }

          // Vérifier qu'on a une grande catégorie OU une catégorie spéciale
          if ((GC === 'Grande catégorie' || GC === '') && (CS === 'Catégorie spéciale' || CS === '')) {
            alert('Veuillez sélectionner soit une grande catégorie, soit une catégorie spéciale');
            return;
          }

          // Si catégorie spéciale est choisie, l'utiliser
          if (CS !== 'Catégorie spéciale' && CS !== '') {
            const result = getArmes('x', 'x', CS, rarMin, rarMax);
            const modalBody = document.querySelector('#armegenModal .modal-body');
            if (Array.isArray(result)) {
              modalBody.innerHTML = `<strong>Arme :</strong> ${result[0]}<br><strong>Rareté :</strong> ${result[1][0]}<br><strong>Enchantement :</strong> ${result[1][1]}`;
            } else if (result.error) {
              modalBody.innerHTML = `<strong>Erreur :</strong> ${result.error}`;
            }
          }
          // Sinon utiliser grande catégorie (et optionnellement petite catégorie)
          else if (GC !== 'Grande catégorie' && GC !== '') {
            const pc = (PC !== 'Petite catégorie' && PC !== '') ? PC : 'x';
            const result = getArmes(GC, pc, 'x', rarMin, rarMax);
            const modalBody = document.querySelector('#armegenModal .modal-body');
            if (Array.isArray(result)) {
              modalBody.innerHTML = `<strong>Arme :</strong> ${result[0]}<br><strong>Rareté :</strong> ${result[1][0]}<br><strong>Enchantement :</strong> ${result[1][1]}`;
            } else if (result.error) {
              modalBody.innerHTML = `<strong>Erreur :</strong> ${result.error}`;
            }
          }
        });
      }
    });

    // --- ARMURES ---
    document.addEventListener('DOMContentLoaded', function () {
      const btnGenerateArmure = document.querySelectorAll('button[data-bs-target="#armuregenModal"]');
      if (btnGenerateArmure.length > 0) {
        btnGenerateArmure.forEach(btn => {
          btn.addEventListener('click', function () {
            const cat = document.querySelector('select[aria-label="CA"]').value;
            const rarMin = document.querySelector('select[aria-label="rarminarmure"]').value;
            const rarMax = document.querySelector('select[aria-label="rarmaxarmure"]').value;

            if (cat !== 'Catégorie' && rarMin !== 'Rareté minimum' && rarMax !== 'Rareté maximun') {
              const result = getArmures(cat, rarMin, rarMax);
              const modals = document.querySelectorAll('#armuregenModal .modal-body');
              modals.forEach(modalBody => {
                if (Array.isArray(result)) {
                  modalBody.innerHTML = `<strong>Armure :</strong> ${result[0]}<br><strong>Rareté :</strong> ${result[1][0]}<br><strong>Enchantement :</strong> ${result[1][1]}`;
                } else {
                  modalBody.innerHTML = `<strong>Erreur :</strong> ${result}`;
                }
              });
            } else {
              alert('Veuillez sélectionner une catégorie et les rarétés min/max');
            }
          });
        });
      }
    });

    // --- POTIONS ---
    document.addEventListener('DOMContentLoaded', function () {
      const btnGeneratePotion = document.querySelectorAll('button[data-bs-target="#potiongenModal"]');
      if (btnGeneratePotion.length > 0) {
        btnGeneratePotion.forEach(btn => {
          btn.addEventListener('click', function () {
            const result = getPotion();
            const modals = document.querySelectorAll('#potiongenModal .modal-body');
            modals.forEach(modalBody => {
              modalBody.innerHTML = `<strong>Potion :</strong> ${result}`;
            });
          });
        });
      }
    });

    // --- FLÈCHES ---
    document.addEventListener('DOMContentLoaded', function () {
      const btnGenerateFlèches = document.querySelectorAll('button[data-bs-target="#flechesgenModal"]');
      if (btnGenerateFlèches.length > 0) {
        btnGenerateFlèches.forEach(btn => {
          btn.addEventListener('click', function () {
            const result = getFlèches();
            const modals = document.querySelectorAll('#flechesgenModal .modal-body');
            modals.forEach(modalBody => {
              let content = '<strong>Flèches générées :</strong><br>';
              if (Object.keys(result).length === 0) {
                content += 'Aucune flèche générée';
              } else {
                for (let fleche in result) {
                  content += `${fleche}: ${result[fleche]}<br>`;
                }
              }
              modalBody.innerHTML = content;
            });
          });
        });
      }
    });

    // --- ENCHANTEMENTS ---
    document.addEventListener('DOMContentLoaded', function () {
      const btnGenerateEnch = document.querySelector('div.col:last-child button[data-bs-target="#enchModal"]');
      if (btnGenerateEnch) {
        btnGenerateEnch.addEventListener('click', function () {
          const rarChoisie = document.querySelector('select[aria-label="rarminench"]').value;

          if (rarChoisie !== 'Rareté choisie') {
            const result = ench(rarChoisie);
            const modalBody = document.querySelector('#enchModal .modal-body');
            modalBody.innerHTML = `<strong>Enchantement :</strong> ${result}`;
          } else {
            alert('Veuillez sélectionner une rareté');
          }
        });
      }
    });
  </script>
</body>

</html>